<template>
  <div class="four">
    <p v-for="text in arr" :key="text">
      {{ text }}
    </p>
    <p v-if="arr.length === 0" class="next">
      <van-icon name="arrow-down" />
    </p>
    <button class="rsv btn1" @click="handleRight">ğŸ’• åŒæ„åœ¨ä¸€èµ·</button>
    <button class="rsv btn2" @click="handleError">
      âŒ æˆ‘ç¾ä¸½ä½ ä¸‘æˆ‘ä»¬ä¸ä¸€æ ·
    </button>
  </div>
</template>

<script>
export default {
  mounted() {},
  data() {
    const date = new Date();
    return {
      arr: [
        "æ‰€ä»¥å°±åœ¨ä»Šå¤©å°åæ­£å¼åœ°å‘ä½ è¡¨ç™½",
        "ğŸ‘¨",
        "ä»–å–œæ¬¢ä½ ",
        "ğŸŒ¹",
        `ä»Šå¤©æ˜¯${date.getFullYear()}-${date.getMonth() + 1}-${date.getDate()}`,
        "ğŸ“…",
        "è¿™å°†ä¼šæ˜¯ä¸€ä¸ªå€¼å¾—çºªå¿µçš„æ—¥å¿—",
        "ğŸ˜„",
        "åœ†åœ†å°ç›†å‹ï¼Œä½ è¦ä¸è¦è€ƒè™‘å’Œå°ååœ¨ä¸€èµ·ï¼Ÿ",
        "â­•ï¸",
        "è¯·é€‰æ‹©",
      ],
      count: 0,
    };
  },
  methods: {
    handleError() {
      const btn1 = document.querySelector(".btn1");
      const btn2 = document.querySelector(".btn2");
      alert("ä½ è‚¯å®šæ˜¯å«Œå¼ƒæˆ‘ä¸å¥½çœ‹, å””ï¼Œä¸è¡Œï¼Œè¿™ä¸ªé€‰æ‹©æˆ‘ä¸åŒæ„ï¼Œè¶…çº§å˜å˜å˜ã€‚");
      btn2.style.display = "none";
      btn1.style.left = "40%";
    },
    handleRight() {
      this.count++;
      const btn1 = document.querySelector(".btn1");
      const leftMax = 300;
      const topMax = 600;
      if (this.count === 1) {
        alert("å˜¿å˜¿ï¼Œä½ åŒæ„äº†ï¼Œæˆ‘æ€ä¹ˆèƒ½è¿™ä¹ˆè½»æ˜“æ”¾è¿‡ä½ ï¼Œå–œæ¬¢æˆ‘å°±æ¥è¿½æˆ‘å‘€ã€‚");
      } else if (this.count < 5) {
      } else if (this.count === 5) {
        alert("æ¥è¿½æˆ‘å‘€ï¼Œè¿½åˆ°å°±æ˜¯ä½ çš„å•¦ã€‚");
      } else if (this.count < 10) {
      } else if (this.count === 10) {
        const time = Date.now();
        alert(
          `æ­å–œä½ ï¼Œå–œæå°åä¸€åªï¼Œæè´§ç ${time}ï¼Œè¯·æˆªå›¾ä¿å­˜ï¼Œæ­¤ç ç‹¬ä¸€æ— äºŒï¼Œç¨åè¿›è¡Œå…‘æ¢, ä»¥åå°±è¦åœ¨ä½ å®¶è¹­ä½ çš„å–ä½ çš„å•¦ã€‚`
        );
        alert(`é‡æ–°åˆ·æ–°é¡µé¢ï¼Œä¼šæœ‰æƒŠå–œå“¦`);
        localStorage.setItem("love_now", time);
        return;
      } else {
        return;
      }
      btn1.style.top = ~~(Math.random() * topMax) + "px";
      btn1.style.left = ~~(Math.random() * leftMax) + "px";
    },
  },
};
</script>

<style>
.four {
  background-color: #f9f1ff;
  height: 100%;
  margin-top: -18px;
}
.four button {
  position: absolute;
  top: 700px;
  background: #fff;
}
.four p:nth-child(1) {
  padding-top: 120px;
}

.four p {
  margin-top: 20px;
}
.four .btn1 {
  left: 100px;
}
.four .btn2 {
  left: 340px;
}
.rsv {
  transition: all 0.2s;
  -moz-transition: all 0.2s; /* Firefox 4 */
  -webkit-transition: all 0.2s; /* Safari å’Œ Chrome */
  padding: 10px 20px;
  border: 1px solid #d2d2d2;
}

.rjt {
  padding: 10px 20px;
  border: 1px solid #d2d2d2;
  top: 800px;
  left: 400px;
}
</style>
